# 抽奖系统的实现

### demo 运行

VSCode + Code Runer 扩展
```sh
Run Code
Stop Code Run
```

### 抽奖系统的业务难点
 
* 抽奖的业务需求，既复杂有多变
* 奖品类型和概率设置
* 如何保证公平的抽奖，安全的发奖？

### 抽奖系统的技术挑战

* 网络并发编程，数据读写的并发安全性问题
* 高效的抽奖和发奖，提高并发和性能
* 系统优化，怎么把 redis 更好的利用起来

### Go vs PHP/JAVA

* 高并发，Go 协程优于 PHP 多进程，JAVA 多线程模式
* 高性能，编译后的二进制优于PHP解释型，JAVA 虚拟机
* 高效网络模型，epoll 优于 PHP BIO，JAVA 的 NIO

### 6 种抽奖活动

* 年会抽奖
* 彩票刮奖
* 微信摇一摇
* 支付宝集福卡
* 微博墙抢红包
* 抽奖大转盘

### 系统设计

* 需求/流程
* 数据库/架构

### 项目实战

* 框架/核心代码 
* 后台功能
* mysql版本
* 优化-使用redis
* 发奖计划与奖品池

### 演示和总结

* 合理设置奖品
* 合理发放奖品
* 压力测试
* 更多运营策略

### 引入 thrift 框架

* 设计接口
* 生成代码
* 服务端接口
* 客户端程序

### 6 种抽奖活动来一遍

年会抽奖程序-annualMeeting
* 需求：导入全公司员工名单，`每次随机抽取出来一个人`
* 未知：有一等奖，二等奖，也有领导`临时`增加的产品
* 年会抽奖不涉及并发，但抽奖程序还是要考虑并发安全性问题

