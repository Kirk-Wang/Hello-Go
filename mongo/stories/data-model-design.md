# 数据模型

* 没有固定的数据格式 `不等于` 无需设计数据模型
* 文档结构 -》数据之间的关系
* 内嵌式结构 v.s 规范式结构

内嵌式结构

规范式结构

文档关系：一对一

* 采用内嵌式结构
  * 一次查询就可以返回所有数据
  * 更具独立性的数据应作为顶层文档
  * 补充性数据应作为内嵌文档

文档关系：一对多

* 采用内嵌式结构
  * 一次查询就可以返回所有数据
  * 更新内嵌文档的复杂度增高
  * `适合`读取频率`远高于`更新频率的数据

* 采用规范式结构
  * 减少了重复数据
  * 降低了文档更新的复杂度
  * 需要多次读取操作才能得到完整的数据

* 使用数组字段表达文档之间的关系时
  * 适合常常需要返回全部相关文档的查询
  * 数组元素较多时，避免使用内嵌文档

